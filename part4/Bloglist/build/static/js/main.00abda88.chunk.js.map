{"version":3,"sources":["components/Blog.js","components/Notification.js","components/LoginForm.js","components/BlogForm.js","services/blogs.js","services/login.js","components/Togglable.js","App.js","index.js"],"names":["blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","buttonStyle","borderRadius","backgroundColor","Blog","_ref","blog","handleLike","handleRemove","user","_useState","useState","_useState2","Object","slicedToArray","detailVisible","setDetailVisible","detailVisiblityControl","display","react_default","a","createElement","style","onClick","title","author","target","rel","href","url","likes","id","Fragment","name","username","Notification","message","error","className","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","password","onSubmit","value","onChange","type","BlogForm","handleTitle","handleAuthor","handleUrl","token","services_blogs","getAll","axios","get","then","response","data","create","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","_ref2","_callee2","_context2","put","concat","_x2","_x3","remove","_ref3","_callee3","_context3","delete","_x4","setToken","newToken","services_login","login","credentials","Togglable","React","forwardRef","props","ref","visible","setVisible","hideWhenVisible","showWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","App","blogs","setBlogs","_useState3","_useState4","errorMessage","setErrorMessage","_useState5","_useState6","isError","setIsError","_useState7","_useState8","setUsername","_useState9","_useState10","setPassword","_useState11","_useState12","setUser","_useState13","_useState14","setTitle","_useState15","_useState16","setAuthor","_useState17","_useState18","setUrl","_useState19","_useState20","loginVisible","setLoginVisible","useEffect","blogService","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","event","_user2","preventDefault","loginService","setItem","stringify","t0","setTimeout","handleLogout","removeItem","exception","blogFormRef","createRef","addBlog","blogObject","current","_ref4","_callee4","like","newBlog","_context4","find","n","objectSpread","map","filter","_ref5","_callee5","_context5","confirm","_x5","components_Notification","components_LoginForm","_ref6","_ref7","loginForm","components_Togglable","components_BlogForm","_ref8","_ref9","_ref10","sort","components_Blog","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.00abda88.chunk.js","sourcesContent":["import React ,{useState} from 'react'\r\n\r\n\r\nconst blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5\r\n  }\r\nconst buttonStyle={\r\n    borderRadius:1,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    backgroundColor:'blue'\r\n}\r\n\r\n\r\n \r\n\r\nconst Blog = ({ blog, handleLike,handleRemove,user}) =>{ \r\n    \r\n    //change states\r\n    const [detailVisible, setDetailVisible] = useState(false);\r\n    const detailVisiblityControl = { display: detailVisible ? '' : 'none' };\r\n    //likes\r\n    const Likes= (id)=>(\r\n      <>\r\n        <button  onClick={handleLike}>Like</button>\r\n      </>\r\n  )\r\n  \r\n //remove \r\n  const Remove =(id)=>(\r\n    <>\r\n      <button style={buttonStyle} onClick={handleRemove}>remove</button>\r\n    </>\r\n  )\r\n  \r\n    \r\n    \r\n  return  (\r\n          <div style={blogStyle} >\r\n            <div onClick={()=>setDetailVisible(!detailVisible)}>\r\n            <p>{blog.title} {blog.author}</p>\r\n            </div>\r\n            <div style={detailVisiblityControl}>\r\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href={blog.url} >{blog.url}</a>\r\n            <p>{blog.likes} likes {Likes(blog.id)}</p>\r\n            <p>added by {blog.user.name}</p>\r\n             {blog.user.username===user.username ? Remove(blog.id):null}\r\n            </div>\r\n          </div>\r\n        )\r\n} \r\nexport default Blog","import React from 'react'\r\n\r\nconst Notification = ({ message,error }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  if(message!==null && !error){\r\n    return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n    )  \r\n  }\r\n    \r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst LoginForm = ({\r\n  handleSubmit,\r\n  handleUsernameChange,\r\n  handlePasswordChange,\r\n  username,\r\n  password\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          username\r\n          <input\r\n            value={username}\r\n            onChange={handleUsernameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          password\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\n\r\nconst BlogForm = ({ \r\n    onSubmit,\r\n    handleTitle,\r\n    handleAuthor,\r\n    handleUrl,\r\n    title,\r\n    author,\r\n    url}) => {\r\n  return (\r\n    <div>\r\n      <h2>Create a new Blog</h2>\r\n       <form onSubmit={onSubmit}>\r\n      <div>\r\n        title :\r\n          <input\r\n          type=\"text\"\r\n          value={title}\r\n          name=\"Title\"\r\n          onChange={handleTitle}\r\n        />\r\n      </div>\r\n      <div>\r\n        author :\r\n          <input\r\n          type=\"text\"\r\n          value={author}\r\n          name=\"Author\"\r\n          onChange={handleAuthor}\r\n        />\r\n      </div>\r\n      <div>\r\n        url :\r\n          <input\r\n          type=\"text\"\r\n          value={url}\r\n          name=\"Url\"\r\n          onChange={handleUrl}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">create</button>\r\n    </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const response = await axios.put(`${ baseUrl}/${id}`, newObject)\r\n  return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const response = await axios.delete(`${ baseUrl}/${id}`)\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, create, update, remove, setToken }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React, { useState, useImperativeHandle } from 'react'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Togglable","import React ,{ useState, useEffect } from 'react';\r\nimport Blog from './components/Blog' ;\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './components/LoginForm'\r\nimport BlogForm from './components/BlogForm'\r\nimport blogService from './services/blogs' ;\r\nimport loginService from './services/login' ;\r\nimport Togglable from './components/Togglable'\r\n\r\nconst App =()=>{\r\n    \r\n      const [blogs, setBlogs] = useState([]) \r\n      const [errorMessage, setErrorMessage] = useState(null)\r\n      const [isError,setIsError]=useState(true)\r\n      const [username, setUsername] = useState('')\r\n      const [password, setPassword] = useState('') \r\n      const [user, setUser] = useState(null) \r\n      const [title, setTitle] = useState('')\r\n      const [author, setAuthor] = useState('') \r\n      const [url, setUrl] = useState('') \r\n      const [loginVisible, setLoginVisible] = useState(false)\r\n  \r\n //get all the blogs \r\n  useEffect(() => {\r\n    blogService\r\n      .getAll()\r\n      .then(initialBlogs => setBlogs(initialBlogs))\r\n  }, [])\r\n \r\n      \r\n  //save token to local storage    \r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      blogService.setToken(user.token)\r\n    }\r\n  }, []) \r\n    \r\n    //handle login\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username, password,\r\n      })\r\n       window.localStorage.setItem(\r\n        'loggedBlogappUser', JSON.stringify(user)\r\n      ) \r\n      blogService.setToken(user.token)\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (exception) {\r\n      setIsError(true)\r\n      setErrorMessage('Wrong credentials')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n  //handle logout and clear session\r\n const handleLogout=async (event)=>{\r\n     event.preventDefault()\r\n    try {\r\n      \r\n       window.localStorage.removeItem('loggedBlogappUser');\r\n        \r\n      blogService.setToken(null)\r\n      setUser(null)\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (exception) {\r\n      setIsError(true)\r\n      setErrorMessage('Please login')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n }\r\n const blogFormRef = React.createRef()\r\n //add new blog \r\n  const addBlog = async (event) => {\r\n    event.preventDefault()\r\n    blogFormRef.current.toggleVisibility()\r\n    const blogObject = {\r\n      title: title,\r\n      author: author,\r\n      url: url\r\n    }\r\n   try{\r\n       const blog= await blogService.create(blogObject);\r\n        setBlogs(blogs.concat(blog))\r\n        \r\n        setTitle('')\r\n        setAuthor('')\r\n        setUrl('')\r\n        setIsError(false)\r\n        setErrorMessage(`a new Blog ${blogObject.title} by ${blogObject.author} added`)\r\n        setTimeout(() => {\r\n        setErrorMessage(null)\r\n        }, 5000)\r\n   }catch(expection){\r\n       setIsError(true)\r\n       setErrorMessage('Invalid data')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n   }\r\n   \r\n  }\r\n  \r\n //generate blogs\r\n //handle likes\r\n  const handleLike= async (id) => {  \r\n            const blog = blogs.find(n => n.id === id)\r\n            const like=blog.likes+1;\r\n            const newBlog={ ...blog,likes:like}\r\n      \r\n      try{\r\n          \r\n           const updatedBlog=await blogService.update(id, newBlog);\r\n           setBlogs(blogs.map(blog=>blog.id!==id ? blog : {...blog, likes: like} ))\r\n           \r\n      }catch(exception){\r\n           // console.log('there is some exception'+JSON.stringify(exception))\r\n            setIsError(true)\r\n            setErrorMessage(`Blog '${blog.title}' was already removed from server`)\r\n            setTimeout(() => {setErrorMessage(null)}, 5000)\r\n            setBlogs(blogs.filter(n => n.id !== id))\r\n      }\r\n  }\r\n    \r\n const handleRemove= async (id)=>{\r\n     const blog = blogs.find(n => n.id === id);\r\n     //console.log('blog contains '+JSON.stringify(blog));\r\n     //console.log('user '+JSON.stringify(user));\r\n     \r\n     try{\r\n         let confirmToDelete=window.confirm(`remove blog ${blog.title} by ${blog.author}`);\r\n        //alert(`your response is ${confirmToDelete}`);\r\n        if(confirmToDelete && blog.user.username===user.username){\r\n            await blogService.remove(id);\r\n            setBlogs(blogs.filter(n => n.id !== id))\r\n        }\r\n         \r\n     }catch(exception){\r\n            setIsError(true)\r\n            setErrorMessage(`Blog '${blog.title}' was already removed from server`)\r\n            setTimeout(() => {setErrorMessage(null)}, 5000)\r\n            setBlogs(blogs.filter(n => n.id !== id))\r\n     }\r\n }\r\n const blogForm = () => ( \r\n    <>\r\n     {\r\n     blogs.sort((prev,current)=>current.likes - prev.likes).map(blog =>\r\n        <Blog key={blog.id} user={user} blog={blog} handleLike={()=>handleLike(blog.id)} handleRemove={()=>handleRemove(blog.id)}/>\r\n      )}\r\n    </>\r\n  )  \r\n  \r\n //login form \r\n  const loginForm = () => {\r\n    const hideWhenVisible = { display: loginVisible ? 'none' : '' }\r\n    const showWhenVisible = { display: loginVisible ? '' : 'none' }\r\n\r\n    return (\r\n      <div>\r\n        <div style={hideWhenVisible}>\r\n          <button onClick={() => setLoginVisible(true)}>log in</button>\r\n        </div>\r\n        <div style={showWhenVisible}>\r\n          <LoginForm\r\n            username={username}\r\n            password={password}\r\n            handleUsernameChange={({ target }) => setUsername(target.value)}\r\n            handlePasswordChange={({ target }) => setPassword(target.value)}\r\n            handleSubmit={handleLogin}\r\n          />\r\n          <button onClick={() => setLoginVisible(false)}>cancel</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n//logout buttton \r\n  const logOut= ()=>(\r\n      <>\r\n        <button onClick={handleLogout}>Logout</button>\r\n      </>\r\n  )\r\n  \r\n  //render dev \r\n  return (\r\n    <div className=\"App\">\r\n      <Notification message={errorMessage} error={isError}/>\r\n     \r\n      {user === null ?\r\n        loginForm() :\r\n        <div>\r\n          <p>{user.name} logged in {logOut()}</p>\r\n          <Togglable buttonLabel=\"new blog\" ref={blogFormRef}>\r\n            <BlogForm\r\n              onSubmit={addBlog}\r\n              title={title}\r\n              author={author}\r\n              url={url}\r\n              handleTitle={({ target }) => setTitle(target.value)}\r\n              handleAuthor={({ target }) => setAuthor(target.value)}\r\n              handleUrl={({ target }) => setUrl(target.value)}\r\n            />\r\n          </Togglable>\r\n         {blogForm()}\r\n        </div>\r\n      }\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport  './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}